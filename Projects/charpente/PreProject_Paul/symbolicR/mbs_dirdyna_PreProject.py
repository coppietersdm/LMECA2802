#
#	MBsysTran - Release 8.1
#
#	Copyright 
#	Universite catholique de Louvain (UCLouvain) 
#	Mechatronic, Electrical Energy, and Dynamic systems (MEED Division) 
#	2, Place du Levant
#	1348 Louvain-la-Neuve 
#	Belgium 
#
#	http://www.robotran.be 
#
#	==> Generation Date: Wed May  1 12:12:23 2024
#
#	==> Project name: PreProject
#
#	==> Number of joints: 21
#
#	==> Function: F1 - Recursive Direct Dynamics of tree-like MBS
#
#	==> Git hash: 8f46effdc05c898000a15b4c4dfc8f70efce4fc0
#

from math import sin, cos

def dirdyna(M, c, s, tsim):
    q = s.q
    qd = s.qd
 
# Trigonometric functions

    S3 = sin(q[3])
    C3 = cos(q[3])
    S4 = sin(q[4])
    C4 = cos(q[4])
    S5 = sin(q[5])
    C5 = cos(q[5])
    S6 = sin(q[6])
    C6 = cos(q[6])
    S7 = sin(q[7])
    C7 = cos(q[7])
    S10 = sin(q[10])
    C10 = cos(q[10])
    S11 = sin(q[11])
    C11 = cos(q[11])
    S12 = sin(q[12])
    C12 = cos(q[12])
    S13 = sin(q[13])
    C13 = cos(q[13])
    S14 = sin(q[14])
    C14 = cos(q[14])
    S17 = sin(q[17])
    C17 = cos(q[17])
    S18 = sin(q[18])
    C18 = cos(q[18])
    S19 = sin(q[19])
    C19 = cos(q[19])
    S20 = sin(q[20])
    C20 = cos(q[20])
    S21 = sin(q[21])
    C21 = cos(q[21])
 
# Forward Kinematics

    BS53 = -qd[3]*qd[3]
    AF23 = -s.g[3]*S3
    AF33 = -s.g[3]*C3
    OM14 = qd[3]+qd[4]
    BS54 = -OM14*OM14
    AF24 = AF33*S4+C4*(AF23+BS53*s.dpt[2,1])
    AF34 = AF33*C4-S4*(AF23+BS53*s.dpt[2,1])
    AM24_1 = C3*C4-S3*S4
    AM34_1 = -C3*S4-S3*C4
    AM24_2 = C3*S4+S3*C4
    AM34_2 = C3*C4-S3*S4
    AM24_3 = s.dpt[2,1]*S4
    AM34_3 = s.dpt[2,1]*C4
    OM15 = qd[5]+OM14
    BS55 = -OM15*OM15
    AF25 = AF34*S5+C5*(AF24+BS54*s.dpt[2,3])
    AF35 = AF34*C5-S5*(AF24+BS54*s.dpt[2,3])
    AM25_1 = AM24_1*C5+AM34_1*S5
    AM35_1 = -AM24_1*S5+AM34_1*C5
    AM25_2 = AM24_2*C5+AM34_2*S5
    AM35_2 = -AM24_2*S5+AM34_2*C5
    AM25_3 = AM24_3*C5+S5*(AM34_3+s.dpt[2,3])
    AM35_3 = -AM24_3*S5+C5*(AM34_3+s.dpt[2,3])
    AM25_4 = s.dpt[2,3]*S5
    AM35_4 = s.dpt[2,3]*C5
    OM16 = qd[3]+qd[6]
    BS56 = -OM16*OM16
    AF26 = AF33*S6+C6*(AF23+BS53*s.dpt[2,2])
    AF36 = AF33*C6-S6*(AF23+BS53*s.dpt[2,2])
    AM26_1 = C3*C6-S3*S6
    AM36_1 = -C3*S6-S3*C6
    AM26_2 = C3*S6+S3*C6
    AM36_2 = C3*C6-S3*S6
    AM26_3 = s.dpt[2,2]*S6
    AM36_3 = s.dpt[2,2]*C6
    OM17 = qd[7]+OM16
    BS57 = -OM17*OM17
    AF27 = AF36*S7+C7*(AF26+BS56*s.dpt[2,5])
    AF37 = AF36*C7-S7*(AF26+BS56*s.dpt[2,5])
    AM27_1 = AM26_1*C7+AM36_1*S7
    AM37_1 = -AM26_1*S7+AM36_1*C7
    AM27_2 = AM26_2*C7+AM36_2*S7
    AM37_2 = -AM26_2*S7+AM36_2*C7
    AM27_3 = AM26_3*C7+S7*(AM36_3+s.dpt[2,5])
    AM37_3 = -AM26_3*S7+C7*(AM36_3+s.dpt[2,5])
    AM27_6 = s.dpt[2,5]*S7
    AM37_6 = s.dpt[2,5]*C7
    BS510 = -qd[10]*qd[10]
    AF210 = -s.g[3]*S10
    AF310 = -s.g[3]*C10
    OM111 = qd[10]+qd[11]
    BS511 = -OM111*OM111
    AF211 = AF310*S11+C11*(AF210+BS510*s.dpt[2,7])
    AF311 = AF310*C11-S11*(AF210+BS510*s.dpt[2,7])
    AM211_8 = C10*C11-S10*S11
    AM311_8 = -C10*S11-S10*C11
    AM211_9 = C10*S11+S10*C11
    AM311_9 = C10*C11-S10*S11
    AM211_10 = s.dpt[2,7]*S11
    AM311_10 = s.dpt[2,7]*C11
    OM112 = qd[12]+OM111
    BS512 = -OM112*OM112
    AF212 = AF311*S12+C12*(AF211+BS511*s.dpt[2,9])
    AF312 = AF311*C12-S12*(AF211+BS511*s.dpt[2,9])
    AM212_8 = AM211_8*C12+AM311_8*S12
    AM312_8 = -AM211_8*S12+AM311_8*C12
    AM212_9 = AM211_9*C12+AM311_9*S12
    AM312_9 = -AM211_9*S12+AM311_9*C12
    AM212_10 = AM211_10*C12+S12*(AM311_10+s.dpt[2,9])
    AM312_10 = -AM211_10*S12+C12*(AM311_10+s.dpt[2,9])
    AM212_11 = s.dpt[2,9]*S12
    AM312_11 = s.dpt[2,9]*C12
    OM113 = qd[10]+qd[13]
    BS513 = -OM113*OM113
    AF213 = AF310*S13+C13*(AF210+BS510*s.dpt[2,8])
    AF313 = AF310*C13-S13*(AF210+BS510*s.dpt[2,8])
    AM213_8 = C10*C13-S10*S13
    AM313_8 = -C10*S13-S10*C13
    AM213_9 = C10*S13+S10*C13
    AM313_9 = C10*C13-S10*S13
    AM213_10 = s.dpt[2,8]*S13
    AM313_10 = s.dpt[2,8]*C13
    OM114 = qd[14]+OM113
    BS514 = -OM114*OM114
    AF214 = AF313*S14+C14*(AF213+BS513*s.dpt[2,11])
    AF314 = AF313*C14-S14*(AF213+BS513*s.dpt[2,11])
    AM214_8 = AM213_8*C14+AM313_8*S14
    AM314_8 = -AM213_8*S14+AM313_8*C14
    AM214_9 = AM213_9*C14+AM313_9*S14
    AM314_9 = -AM213_9*S14+AM313_9*C14
    AM214_10 = AM213_10*C14+S14*(AM313_10+s.dpt[2,11])
    AM314_10 = -AM213_10*S14+C14*(AM313_10+s.dpt[2,11])
    AM214_13 = s.dpt[2,11]*S14
    AM314_13 = s.dpt[2,11]*C14
    BS517 = -qd[17]*qd[17]
    AF217 = -s.g[3]*S17
    AF317 = -s.g[3]*C17
    OM118 = qd[17]+qd[18]
    BS518 = -OM118*OM118
    AF218 = AF317*S18+C18*(AF217+BS517*s.dpt[2,13])
    AF318 = AF317*C18-S18*(AF217+BS517*s.dpt[2,13])
    AM218_15 = C17*C18-S17*S18
    AM318_15 = -C17*S18-S17*C18
    AM218_16 = C17*S18+S17*C18
    AM318_16 = C17*C18-S17*S18
    AM218_17 = s.dpt[2,13]*S18
    AM318_17 = s.dpt[2,13]*C18
    OM119 = qd[19]+OM118
    BS519 = -OM119*OM119
    AF219 = AF318*S19+C19*(AF218+BS518*s.dpt[2,15])
    AF319 = AF318*C19-S19*(AF218+BS518*s.dpt[2,15])
    AM219_15 = AM218_15*C19+AM318_15*S19
    AM319_15 = -AM218_15*S19+AM318_15*C19
    AM219_16 = AM218_16*C19+AM318_16*S19
    AM319_16 = -AM218_16*S19+AM318_16*C19
    AM219_17 = AM218_17*C19+S19*(AM318_17+s.dpt[2,15])
    AM319_17 = -AM218_17*S19+C19*(AM318_17+s.dpt[2,15])
    AM219_18 = s.dpt[2,15]*S19
    AM319_18 = s.dpt[2,15]*C19
    OM120 = qd[17]+qd[20]
    BS520 = -OM120*OM120
    AF220 = AF317*S20+C20*(AF217+BS517*s.dpt[2,14])
    AF320 = AF317*C20-S20*(AF217+BS517*s.dpt[2,14])
    AM220_15 = C17*C20-S17*S20
    AM320_15 = -C17*S20-S17*C20
    AM220_16 = C17*S20+S17*C20
    AM320_16 = C17*C20-S17*S20
    AM220_17 = s.dpt[2,14]*S20
    AM320_17 = s.dpt[2,14]*C20
    OM121 = qd[21]+OM120
    BS521 = -OM121*OM121
    AF221 = AF320*S21+C21*(AF220+BS520*s.dpt[2,17])
    AF321 = AF320*C21-S21*(AF220+BS520*s.dpt[2,17])
    AM221_15 = AM220_15*C21+AM320_15*S21
    AM321_15 = -AM220_15*S21+AM320_15*C21
    AM221_16 = AM220_16*C21+AM320_16*S21
    AM321_16 = -AM220_16*S21+AM320_16*C21
    AM221_17 = AM220_17*C21+S21*(AM320_17+s.dpt[2,17])
    AM321_17 = -AM220_17*S21+C21*(AM320_17+s.dpt[2,17])
    AM221_20 = s.dpt[2,17]*S21
    AM321_20 = s.dpt[2,17]*C21
 
# Backward Dynamics

    FA221 = -s.frc[2,21]+s.m[21]*(AF221+BS521*s.l[2,21])
    FA321 = -s.frc[3,21]+s.m[21]*AF321
    CF121 = -s.trq[1,21]+FA321*s.l[2,21]
    FB221_15 = s.m[21]*AM221_15
    FB321_15 = s.m[21]*AM321_15
    CM121_15 = FB321_15*s.l[2,21]
    FB221_16 = s.m[21]*AM221_16
    FB321_16 = s.m[21]*AM321_16
    CM121_16 = FB321_16*s.l[2,21]
    FB221_17 = s.m[21]*AM221_17
    FB321_17 = s.m[21]*(AM321_17+s.l[2,21])
    CM121_17 = s.In[1,21]+FB321_17*s.l[2,21]
    FB221_20 = s.m[21]*AM221_20
    FB321_20 = s.m[21]*(AM321_20+s.l[2,21])
    CM121_20 = s.In[1,21]+FB321_20*s.l[2,21]
    FB321_21 = s.m[21]*s.l[2,21]
    CM121_21 = s.In[1,21]+FB321_21*s.l[2,21]
    FA220 = -s.frc[2,20]+s.m[20]*(AF220+BS520*s.l[2,20])
    FA320 = -s.frc[3,20]+s.m[20]*AF320
    FF220 = FA220+FA221*C21-FA321*S21
    FF320 = FA320+FA221*S21+FA321*C21
    CF120 = -s.trq[1,20]+CF121+FA320*s.l[2,20]+s.dpt[2,17]*(FA221*S21+FA321*C21)
    FB220_15 = s.m[20]*AM220_15
    FB320_15 = s.m[20]*AM320_15
    FM220_15 = FB220_15+FB221_15*C21-FB321_15*S21
    FM320_15 = FB320_15+FB221_15*S21+FB321_15*C21
    CM120_15 = CM121_15+FB320_15*s.l[2,20]+s.dpt[2,17]*(FB221_15*S21+FB321_15*C21)
    FB220_16 = s.m[20]*AM220_16
    FB320_16 = s.m[20]*AM320_16
    FM220_16 = FB220_16+FB221_16*C21-FB321_16*S21
    FM320_16 = FB320_16+FB221_16*S21+FB321_16*C21
    CM120_16 = CM121_16+FB320_16*s.l[2,20]+s.dpt[2,17]*(FB221_16*S21+FB321_16*C21)
    FB220_17 = s.m[20]*AM220_17
    FB320_17 = s.m[20]*(AM320_17+s.l[2,20])
    FM220_17 = FB220_17+FB221_17*C21-FB321_17*S21
    FM320_17 = FB320_17+FB221_17*S21+FB321_17*C21
    CM120_17 = s.In[1,20]+CM121_17+FB320_17*s.l[2,20]+s.dpt[2,17]*(FB221_17*S21+FB321_17*C21)
    FB320_20 = s.m[20]*s.l[2,20]
    CM120_20 = s.In[1,20]+CM121_20+FB320_20*s.l[2,20]+s.dpt[2,17]*(FB221_20*S21+FB321_20*C21)
    FA219 = -s.frc[2,19]+s.m[19]*(AF219+BS519*s.l[2,19])
    FA319 = -s.frc[3,19]+s.m[19]*AF319
    CF119 = -s.trq[1,19]+FA319*s.l[2,19]
    FB219_15 = s.m[19]*AM219_15
    FB319_15 = s.m[19]*AM319_15
    CM119_15 = FB319_15*s.l[2,19]
    FB219_16 = s.m[19]*AM219_16
    FB319_16 = s.m[19]*AM319_16
    CM119_16 = FB319_16*s.l[2,19]
    FB219_17 = s.m[19]*AM219_17
    FB319_17 = s.m[19]*(AM319_17+s.l[2,19])
    CM119_17 = s.In[1,19]+FB319_17*s.l[2,19]
    FB219_18 = s.m[19]*AM219_18
    FB319_18 = s.m[19]*(AM319_18+s.l[2,19])
    CM119_18 = s.In[1,19]+FB319_18*s.l[2,19]
    FB319_19 = s.m[19]*s.l[2,19]
    CM119_19 = s.In[1,19]+FB319_19*s.l[2,19]
    FA218 = -s.frc[2,18]+s.m[18]*(AF218+BS518*s.l[2,18])
    FA318 = -s.frc[3,18]+s.m[18]*AF318
    FF218 = FA218+FA219*C19-FA319*S19
    FF318 = FA318+FA219*S19+FA319*C19
    CF118 = -s.trq[1,18]+CF119+FA318*s.l[2,18]+s.dpt[2,15]*(FA219*S19+FA319*C19)
    FB218_15 = s.m[18]*AM218_15
    FB318_15 = s.m[18]*AM318_15
    FM218_15 = FB218_15+FB219_15*C19-FB319_15*S19
    FM318_15 = FB318_15+FB219_15*S19+FB319_15*C19
    CM118_15 = CM119_15+FB318_15*s.l[2,18]+s.dpt[2,15]*(FB219_15*S19+FB319_15*C19)
    FB218_16 = s.m[18]*AM218_16
    FB318_16 = s.m[18]*AM318_16
    FM218_16 = FB218_16+FB219_16*C19-FB319_16*S19
    FM318_16 = FB318_16+FB219_16*S19+FB319_16*C19
    CM118_16 = CM119_16+FB318_16*s.l[2,18]+s.dpt[2,15]*(FB219_16*S19+FB319_16*C19)
    FB218_17 = s.m[18]*AM218_17
    FB318_17 = s.m[18]*(AM318_17+s.l[2,18])
    FM218_17 = FB218_17+FB219_17*C19-FB319_17*S19
    FM318_17 = FB318_17+FB219_17*S19+FB319_17*C19
    CM118_17 = s.In[1,18]+CM119_17+FB318_17*s.l[2,18]+s.dpt[2,15]*(FB219_17*S19+FB319_17*C19)
    FB318_18 = s.m[18]*s.l[2,18]
    CM118_18 = s.In[1,18]+CM119_18+FB318_18*s.l[2,18]+s.dpt[2,15]*(FB219_18*S19+FB319_18*C19)
    FA217 = -s.frc[2,17]+s.m[17]*AF217
    FA317 = -s.frc[3,17]+s.m[17]*AF317
    FF217 = FA217+FF218*C18+FF220*C20-FF318*S18-FF320*S20
    FF317 = FA317+FF218*S18+FF220*S20+FF318*C18+FF320*C20
    CF117 = -s.trq[1,17]+CF118+CF120+s.dpt[2,13]*(FF218*S18+FF318*C18)+s.dpt[2,14]*(FF220*S20+FF320*C20)
    FB217_15 = s.m[17]*C17
    FB317_15 = -s.m[17]*S17
    FM217_15 = FB217_15+FM218_15*C18+FM220_15*C20-FM318_15*S18-FM320_15*S20
    FM317_15 = FB317_15+FM218_15*S18+FM220_15*S20+FM318_15*C18+FM320_15*C20
    CM117_15 = CM118_15+CM120_15+s.dpt[2,13]*(FM218_15*S18+FM318_15*C18)+s.dpt[2,14]*(FM220_15*S20+FM320_15*C20)
    FB217_16 = s.m[17]*S17
    FB317_16 = s.m[17]*C17
    FM217_16 = FB217_16+FM218_16*C18+FM220_16*C20-FM318_16*S18-FM320_16*S20
    FM317_16 = FB317_16+FM218_16*S18+FM220_16*S20+FM318_16*C18+FM320_16*C20
    CM117_16 = CM118_16+CM120_16+s.dpt[2,13]*(FM218_16*S18+FM318_16*C18)+s.dpt[2,14]*(FM220_16*S20+FM320_16*C20)
    CM117_17 = s.In[1,17]+CM118_17+CM120_17+s.dpt[2,13]*(FM218_17*S18+FM318_17*C18)+s.dpt[2,14]*(FM220_17*S20+FM320_17*C20)
    FF216 = FF217*C17-FF317*S17
    FF316 = FF217*S17+FF317*C17
    FM216_15 = FM217_15*C17-FM317_15*S17
    FM316_15 = FM217_15*S17+FM317_15*C17
    FM316_16 = FM217_16*S17+FM317_16*C17
    FA214 = -s.frc[2,14]+s.m[14]*(AF214+BS514*s.l[2,14])
    FA314 = -s.frc[3,14]+s.m[14]*AF314
    CF114 = -s.trq[1,14]+FA314*s.l[2,14]
    FB214_8 = s.m[14]*AM214_8
    FB314_8 = s.m[14]*AM314_8
    CM114_8 = FB314_8*s.l[2,14]
    FB214_9 = s.m[14]*AM214_9
    FB314_9 = s.m[14]*AM314_9
    CM114_9 = FB314_9*s.l[2,14]
    FB214_10 = s.m[14]*AM214_10
    FB314_10 = s.m[14]*(AM314_10+s.l[2,14])
    CM114_10 = s.In[1,14]+FB314_10*s.l[2,14]
    FB214_13 = s.m[14]*AM214_13
    FB314_13 = s.m[14]*(AM314_13+s.l[2,14])
    CM114_13 = s.In[1,14]+FB314_13*s.l[2,14]
    FB314_14 = s.m[14]*s.l[2,14]
    CM114_14 = s.In[1,14]+FB314_14*s.l[2,14]
    FA213 = -s.frc[2,13]+s.m[13]*AF213
    FA313 = -s.frc[3,13]+s.m[13]*AF313
    FF213 = FA213+FA214*C14-FA314*S14
    FF313 = FA313+FA214*S14+FA314*C14
    CF113 = -s.trq[1,13]+CF114+s.dpt[2,11]*(FA214*S14+FA314*C14)
    FB213_8 = s.m[13]*AM213_8
    FB313_8 = s.m[13]*AM313_8
    FM213_8 = FB213_8+FB214_8*C14-FB314_8*S14
    FM313_8 = FB313_8+FB214_8*S14+FB314_8*C14
    CM113_8 = CM114_8+s.dpt[2,11]*(FB214_8*S14+FB314_8*C14)
    FB213_9 = s.m[13]*AM213_9
    FB313_9 = s.m[13]*AM313_9
    FM213_9 = FB213_9+FB214_9*C14-FB314_9*S14
    FM313_9 = FB313_9+FB214_9*S14+FB314_9*C14
    CM113_9 = CM114_9+s.dpt[2,11]*(FB214_9*S14+FB314_9*C14)
    FB213_10 = s.m[13]*AM213_10
    FB313_10 = s.m[13]*AM313_10
    FM213_10 = FB213_10+FB214_10*C14-FB314_10*S14
    FM313_10 = FB313_10+FB214_10*S14+FB314_10*C14
    CM113_10 = s.In[1,13]+CM114_10+s.dpt[2,11]*(FB214_10*S14+FB314_10*C14)
    CM113_13 = s.In[1,13]+CM114_13+s.dpt[2,11]*(FB214_13*S14+FB314_13*C14)
    FA212 = -s.frc[2,12]+s.m[12]*(AF212+BS512*s.l[2,12])
    FA312 = -s.frc[3,12]+s.m[12]*AF312
    CF112 = -s.trq[1,12]+FA312*s.l[2,12]
    FB212_8 = s.m[12]*AM212_8
    FB312_8 = s.m[12]*AM312_8
    CM112_8 = FB312_8*s.l[2,12]
    FB212_9 = s.m[12]*AM212_9
    FB312_9 = s.m[12]*AM312_9
    CM112_9 = FB312_9*s.l[2,12]
    FB212_10 = s.m[12]*AM212_10
    FB312_10 = s.m[12]*(AM312_10+s.l[2,12])
    CM112_10 = s.In[1,12]+FB312_10*s.l[2,12]
    FB212_11 = s.m[12]*AM212_11
    FB312_11 = s.m[12]*(AM312_11+s.l[2,12])
    CM112_11 = s.In[1,12]+FB312_11*s.l[2,12]
    FB312_12 = s.m[12]*s.l[2,12]
    CM112_12 = s.In[1,12]+FB312_12*s.l[2,12]
    FA211 = -s.frc[2,11]+s.m[11]*(AF211+BS511*s.l[2,11])
    FA311 = -s.frc[3,11]+s.m[11]*AF311
    FF211 = FA211+FA212*C12-FA312*S12
    FF311 = FA311+FA212*S12+FA312*C12
    CF111 = -s.trq[1,11]+CF112+FA311*s.l[2,11]+s.dpt[2,9]*(FA212*S12+FA312*C12)
    FB211_8 = s.m[11]*AM211_8
    FB311_8 = s.m[11]*AM311_8
    FM211_8 = FB211_8+FB212_8*C12-FB312_8*S12
    FM311_8 = FB311_8+FB212_8*S12+FB312_8*C12
    CM111_8 = CM112_8+FB311_8*s.l[2,11]+s.dpt[2,9]*(FB212_8*S12+FB312_8*C12)
    FB211_9 = s.m[11]*AM211_9
    FB311_9 = s.m[11]*AM311_9
    FM211_9 = FB211_9+FB212_9*C12-FB312_9*S12
    FM311_9 = FB311_9+FB212_9*S12+FB312_9*C12
    CM111_9 = CM112_9+FB311_9*s.l[2,11]+s.dpt[2,9]*(FB212_9*S12+FB312_9*C12)
    FB211_10 = s.m[11]*AM211_10
    FB311_10 = s.m[11]*(AM311_10+s.l[2,11])
    FM211_10 = FB211_10+FB212_10*C12-FB312_10*S12
    FM311_10 = FB311_10+FB212_10*S12+FB312_10*C12
    CM111_10 = s.In[1,11]+CM112_10+FB311_10*s.l[2,11]+s.dpt[2,9]*(FB212_10*S12+FB312_10*C12)
    FB311_11 = s.m[11]*s.l[2,11]
    CM111_11 = s.In[1,11]+CM112_11+FB311_11*s.l[2,11]+s.dpt[2,9]*(FB212_11*S12+FB312_11*C12)
    FA210 = -s.frc[2,10]+s.m[10]*AF210
    FA310 = -s.frc[3,10]+s.m[10]*AF310
    FF210 = FA210+FF211*C11+FF213*C13-FF311*S11-FF313*S13
    FF310 = FA310+FF211*S11+FF213*S13+FF311*C11+FF313*C13
    CF110 = -s.trq[1,10]+CF111+CF113+s.dpt[2,7]*(FF211*S11+FF311*C11)+s.dpt[2,8]*(FF213*S13+FF313*C13)
    FB210_8 = s.m[10]*C10
    FB310_8 = -s.m[10]*S10
    FM210_8 = FB210_8+FM211_8*C11+FM213_8*C13-FM311_8*S11-FM313_8*S13
    FM310_8 = FB310_8+FM211_8*S11+FM213_8*S13+FM311_8*C11+FM313_8*C13
    CM110_8 = CM111_8+CM113_8+s.dpt[2,7]*(FM211_8*S11+FM311_8*C11)+s.dpt[2,8]*(FM213_8*S13+FM313_8*C13)
    FB210_9 = s.m[10]*S10
    FB310_9 = s.m[10]*C10
    FM210_9 = FB210_9+FM211_9*C11+FM213_9*C13-FM311_9*S11-FM313_9*S13
    FM310_9 = FB310_9+FM211_9*S11+FM213_9*S13+FM311_9*C11+FM313_9*C13
    CM110_9 = CM111_9+CM113_9+s.dpt[2,7]*(FM211_9*S11+FM311_9*C11)+s.dpt[2,8]*(FM213_9*S13+FM313_9*C13)
    CM110_10 = s.In[1,10]+CM111_10+CM113_10+s.dpt[2,7]*(FM211_10*S11+FM311_10*C11)+s.dpt[2,8]*(FM213_10*S13+FM313_10*C13)
    FF29 = FF210*C10-FF310*S10
    FF39 = FF210*S10+FF310*C10
    FM29_8 = FM210_8*C10-FM310_8*S10
    FM39_8 = FM210_8*S10+FM310_8*C10
    FM39_9 = FM210_9*S10+FM310_9*C10
    FA27 = -s.frc[2,7]+s.m[7]*(AF27+BS57*s.l[2,7])
    FA37 = -s.frc[3,7]+s.m[7]*AF37
    CF17 = -s.trq[1,7]+FA37*s.l[2,7]
    FB27_1 = s.m[7]*AM27_1
    FB37_1 = s.m[7]*AM37_1
    CM17_1 = FB37_1*s.l[2,7]
    FB27_2 = s.m[7]*AM27_2
    FB37_2 = s.m[7]*AM37_2
    CM17_2 = FB37_2*s.l[2,7]
    FB27_3 = s.m[7]*AM27_3
    FB37_3 = s.m[7]*(AM37_3+s.l[2,7])
    CM17_3 = s.In[1,7]+FB37_3*s.l[2,7]
    FB27_6 = s.m[7]*AM27_6
    FB37_6 = s.m[7]*(AM37_6+s.l[2,7])
    CM17_6 = s.In[1,7]+FB37_6*s.l[2,7]
    FB37_7 = s.m[7]*s.l[2,7]
    CM17_7 = s.In[1,7]+FB37_7*s.l[2,7]
    FA26 = -s.frc[2,6]+s.m[6]*(AF26+BS56*s.l[2,6])
    FA36 = -s.frc[3,6]+s.m[6]*AF36
    FF26 = FA26+FA27*C7-FA37*S7
    FF36 = FA36+FA27*S7+FA37*C7
    CF16 = -s.trq[1,6]+CF17+FA36*s.l[2,6]+s.dpt[2,5]*(FA27*S7+FA37*C7)
    FB26_1 = s.m[6]*AM26_1
    FB36_1 = s.m[6]*AM36_1
    FM26_1 = FB26_1+FB27_1*C7-FB37_1*S7
    FM36_1 = FB36_1+FB27_1*S7+FB37_1*C7
    CM16_1 = CM17_1+FB36_1*s.l[2,6]+s.dpt[2,5]*(FB27_1*S7+FB37_1*C7)
    FB26_2 = s.m[6]*AM26_2
    FB36_2 = s.m[6]*AM36_2
    FM26_2 = FB26_2+FB27_2*C7-FB37_2*S7
    FM36_2 = FB36_2+FB27_2*S7+FB37_2*C7
    CM16_2 = CM17_2+FB36_2*s.l[2,6]+s.dpt[2,5]*(FB27_2*S7+FB37_2*C7)
    FB26_3 = s.m[6]*AM26_3
    FB36_3 = s.m[6]*(AM36_3+s.l[2,6])
    FM26_3 = FB26_3+FB27_3*C7-FB37_3*S7
    FM36_3 = FB36_3+FB27_3*S7+FB37_3*C7
    CM16_3 = s.In[1,6]+CM17_3+FB36_3*s.l[2,6]+s.dpt[2,5]*(FB27_3*S7+FB37_3*C7)
    FB36_6 = s.m[6]*s.l[2,6]
    CM16_6 = s.In[1,6]+CM17_6+FB36_6*s.l[2,6]+s.dpt[2,5]*(FB27_6*S7+FB37_6*C7)
    FA25 = -s.frc[2,5]+s.m[5]*(AF25+BS55*s.l[2,5])
    FA35 = -s.frc[3,5]+s.m[5]*AF35
    CF15 = -s.trq[1,5]+FA35*s.l[2,5]
    FB25_1 = s.m[5]*AM25_1
    FB35_1 = s.m[5]*AM35_1
    CM15_1 = FB35_1*s.l[2,5]
    FB25_2 = s.m[5]*AM25_2
    FB35_2 = s.m[5]*AM35_2
    CM15_2 = FB35_2*s.l[2,5]
    FB25_3 = s.m[5]*AM25_3
    FB35_3 = s.m[5]*(AM35_3+s.l[2,5])
    CM15_3 = s.In[1,5]+FB35_3*s.l[2,5]
    FB25_4 = s.m[5]*AM25_4
    FB35_4 = s.m[5]*(AM35_4+s.l[2,5])
    CM15_4 = s.In[1,5]+FB35_4*s.l[2,5]
    FB35_5 = s.m[5]*s.l[2,5]
    CM15_5 = s.In[1,5]+FB35_5*s.l[2,5]
    FA24 = -s.frc[2,4]+s.m[4]*(AF24+BS54*s.l[2,4])
    FA34 = -s.frc[3,4]+s.m[4]*AF34
    FF24 = FA24+FA25*C5-FA35*S5
    FF34 = FA34+FA25*S5+FA35*C5
    CF14 = -s.trq[1,4]+CF15+FA34*s.l[2,4]+s.dpt[2,3]*(FA25*S5+FA35*C5)
    FB24_1 = s.m[4]*AM24_1
    FB34_1 = s.m[4]*AM34_1
    FM24_1 = FB24_1+FB25_1*C5-FB35_1*S5
    FM34_1 = FB34_1+FB25_1*S5+FB35_1*C5
    CM14_1 = CM15_1+FB34_1*s.l[2,4]+s.dpt[2,3]*(FB25_1*S5+FB35_1*C5)
    FB24_2 = s.m[4]*AM24_2
    FB34_2 = s.m[4]*AM34_2
    FM24_2 = FB24_2+FB25_2*C5-FB35_2*S5
    FM34_2 = FB34_2+FB25_2*S5+FB35_2*C5
    CM14_2 = CM15_2+FB34_2*s.l[2,4]+s.dpt[2,3]*(FB25_2*S5+FB35_2*C5)
    FB24_3 = s.m[4]*AM24_3
    FB34_3 = s.m[4]*(AM34_3+s.l[2,4])
    FM24_3 = FB24_3+FB25_3*C5-FB35_3*S5
    FM34_3 = FB34_3+FB25_3*S5+FB35_3*C5
    CM14_3 = s.In[1,4]+CM15_3+FB34_3*s.l[2,4]+s.dpt[2,3]*(FB25_3*S5+FB35_3*C5)
    FB34_4 = s.m[4]*s.l[2,4]
    CM14_4 = s.In[1,4]+CM15_4+FB34_4*s.l[2,4]+s.dpt[2,3]*(FB25_4*S5+FB35_4*C5)
    FA23 = -s.frc[2,3]+s.m[3]*AF23
    FA33 = -s.frc[3,3]+s.m[3]*AF33
    FF23 = FA23+FF24*C4+FF26*C6-FF34*S4-FF36*S6
    FF33 = FA33+FF24*S4+FF26*S6+FF34*C4+FF36*C6
    CF13 = -s.trq[1,3]+CF14+CF16+s.dpt[2,1]*(FF24*S4+FF34*C4)+s.dpt[2,2]*(FF26*S6+FF36*C6)
    FB23_1 = s.m[3]*C3
    FB33_1 = -s.m[3]*S3
    FM23_1 = FB23_1+FM24_1*C4+FM26_1*C6-FM34_1*S4-FM36_1*S6
    FM33_1 = FB33_1+FM24_1*S4+FM26_1*S6+FM34_1*C4+FM36_1*C6
    CM13_1 = CM14_1+CM16_1+s.dpt[2,1]*(FM24_1*S4+FM34_1*C4)+s.dpt[2,2]*(FM26_1*S6+FM36_1*C6)
    FB23_2 = s.m[3]*S3
    FB33_2 = s.m[3]*C3
    FM23_2 = FB23_2+FM24_2*C4+FM26_2*C6-FM34_2*S4-FM36_2*S6
    FM33_2 = FB33_2+FM24_2*S4+FM26_2*S6+FM34_2*C4+FM36_2*C6
    CM13_2 = CM14_2+CM16_2+s.dpt[2,1]*(FM24_2*S4+FM34_2*C4)+s.dpt[2,2]*(FM26_2*S6+FM36_2*C6)
    CM13_3 = s.In[1,3]+CM14_3+CM16_3+s.dpt[2,1]*(FM24_3*S4+FM34_3*C4)+s.dpt[2,2]*(FM26_3*S6+FM36_3*C6)
    FF22 = FF23*C3-FF33*S3
    FF32 = FF23*S3+FF33*C3
    FM22_1 = FM23_1*C3-FM33_1*S3
    FM32_1 = FM23_1*S3+FM33_1*C3
    FM32_2 = FM23_2*S3+FM33_2*C3
 
# Symbolic model output

    c[1] = FF22
    c[2] = FF32
    c[3] = CF13
    c[4] = CF14
    c[5] = CF15
    c[6] = CF16
    c[7] = CF17
    c[8] = FF29
    c[9] = FF39
    c[10] = CF110
    c[11] = CF111
    c[12] = CF112
    c[13] = CF113
    c[14] = CF114
    c[15] = FF216
    c[16] = FF316
    c[17] = CF117
    c[18] = CF118
    c[19] = CF119
    c[20] = CF120
    c[21] = CF121
    M[1,1] = FM22_1
    M[1,2] = FM32_1
    M[1,3] = CM13_1
    M[1,4] = CM14_1
    M[1,5] = CM15_1
    M[1,6] = CM16_1
    M[1,7] = CM17_1
    M[2,1] = FM32_1
    M[2,2] = FM32_2
    M[2,3] = CM13_2
    M[2,4] = CM14_2
    M[2,5] = CM15_2
    M[2,6] = CM16_2
    M[2,7] = CM17_2
    M[3,1] = CM13_1
    M[3,2] = CM13_2
    M[3,3] = CM13_3
    M[3,4] = CM14_3
    M[3,5] = CM15_3
    M[3,6] = CM16_3
    M[3,7] = CM17_3
    M[4,1] = CM14_1
    M[4,2] = CM14_2
    M[4,3] = CM14_3
    M[4,4] = CM14_4
    M[4,5] = CM15_4
    M[5,1] = CM15_1
    M[5,2] = CM15_2
    M[5,3] = CM15_3
    M[5,4] = CM15_4
    M[5,5] = CM15_5
    M[6,1] = CM16_1
    M[6,2] = CM16_2
    M[6,3] = CM16_3
    M[6,6] = CM16_6
    M[6,7] = CM17_6
    M[7,1] = CM17_1
    M[7,2] = CM17_2
    M[7,3] = CM17_3
    M[7,6] = CM17_6
    M[7,7] = CM17_7
    M[8,8] = FM29_8
    M[8,9] = FM39_8
    M[8,10] = CM110_8
    M[8,11] = CM111_8
    M[8,12] = CM112_8
    M[8,13] = CM113_8
    M[8,14] = CM114_8
    M[9,8] = FM39_8
    M[9,9] = FM39_9
    M[9,10] = CM110_9
    M[9,11] = CM111_9
    M[9,12] = CM112_9
    M[9,13] = CM113_9
    M[9,14] = CM114_9
    M[10,8] = CM110_8
    M[10,9] = CM110_9
    M[10,10] = CM110_10
    M[10,11] = CM111_10
    M[10,12] = CM112_10
    M[10,13] = CM113_10
    M[10,14] = CM114_10
    M[11,8] = CM111_8
    M[11,9] = CM111_9
    M[11,10] = CM111_10
    M[11,11] = CM111_11
    M[11,12] = CM112_11
    M[12,8] = CM112_8
    M[12,9] = CM112_9
    M[12,10] = CM112_10
    M[12,11] = CM112_11
    M[12,12] = CM112_12
    M[13,8] = CM113_8
    M[13,9] = CM113_9
    M[13,10] = CM113_10
    M[13,13] = CM113_13
    M[13,14] = CM114_13
    M[14,8] = CM114_8
    M[14,9] = CM114_9
    M[14,10] = CM114_10
    M[14,13] = CM114_13
    M[14,14] = CM114_14
    M[15,15] = FM216_15
    M[15,16] = FM316_15
    M[15,17] = CM117_15
    M[15,18] = CM118_15
    M[15,19] = CM119_15
    M[15,20] = CM120_15
    M[15,21] = CM121_15
    M[16,15] = FM316_15
    M[16,16] = FM316_16
    M[16,17] = CM117_16
    M[16,18] = CM118_16
    M[16,19] = CM119_16
    M[16,20] = CM120_16
    M[16,21] = CM121_16
    M[17,15] = CM117_15
    M[17,16] = CM117_16
    M[17,17] = CM117_17
    M[17,18] = CM118_17
    M[17,19] = CM119_17
    M[17,20] = CM120_17
    M[17,21] = CM121_17
    M[18,15] = CM118_15
    M[18,16] = CM118_16
    M[18,17] = CM118_17
    M[18,18] = CM118_18
    M[18,19] = CM119_18
    M[19,15] = CM119_15
    M[19,16] = CM119_16
    M[19,17] = CM119_17
    M[19,18] = CM119_18
    M[19,19] = CM119_19
    M[20,15] = CM120_15
    M[20,16] = CM120_16
    M[20,17] = CM120_17
    M[20,20] = CM120_20
    M[20,21] = CM121_20
    M[21,15] = CM121_15
    M[21,16] = CM121_16
    M[21,17] = CM121_17
    M[21,20] = CM121_20
    M[21,21] = CM121_21

# Number of continuation lines = 0


